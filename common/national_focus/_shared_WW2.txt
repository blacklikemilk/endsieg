shared_focus = {
    id = shared_a_new_dawn
    icon = GFX_goal_generic_allies_build_infantry
    x = 0
    y = 5
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_GEN_interwar_cas
    available = { date > 1936.1.1 }
    bypass = { date > 1936.1.1 }

    completion_reward = {
    }
}

shared_focus = {
    id = shared_army_effort
    icon = GFX_goal_generic_allies_build_infantry
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_a_new_dawn
    available = { date > 1936.1.1 }
    prerequisite = { focus = shared_a_new_dawn }

    completion_reward = {
        army_experience = 5
        add_tech_bonus = {
            name = land_doc_bonus
            bonus = 0.5
            uses = 1
            category = land_doctrine
        }
    }
}

shared_focus = {
    id = shared_equipment_effort
    icon = GFX_goal_generic_small_arms
    prerequisite = { focus = shared_army_effort }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_army_effort

    completion_reward = {
        add_tech_bonus = {
            name = infantry_weapons_bonus
            bonus = 0.5
            uses = 1
            category = infantry_weapons
            category = artillery
        }
    }
}

shared_focus = {
    id = shared_motorization_effort
    icon = GFX_goal_generic_army_motorized
    prerequisite = { focus = shared_army_effort }
    bypass = { has_tech = motorised_infantry }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_army_effort

    completion_reward = {
        add_tech_bonus = {
            name = motorized_bonus
            bonus = 0.75
            technology = motorised_infantry
        }
    }
}

shared_focus = {
    id = shared_doctrine_effort
    icon = GFX_goal_generic_army_doctrines
    prerequisite = { focus = shared_army_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_army_effort

    completion_reward = {
        army_experience = 5
        add_tech_bonus = {
            name = land_doc_bonus
            bonus = 0.5
            uses = 1
            category = land_doctrine
        }
    }
}

shared_focus = {
    id = shared_equipment_effort_2
    icon = GFX_goal_generic_army_artillery
    prerequisite = { focus = shared_equipment_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_equipment_effort

    completion_reward = {
        add_tech_bonus = {
            name = infantry_artillery_bonus
            bonus = 0.5
            uses = 1
            category = infantry_weapons
            category = artillery
        }
    }
}

shared_focus = {
    id = shared_mechanization_effort
    icon = GFX_goal_generic_build_tank
    prerequisite = { focus = shared_motorization_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_motorization_effort

    completion_reward = {
        add_tech_bonus = {
            name = motorized_bonus
            ahead_reduction = 0.5
            uses = 1
            category = motorized_equipment
        }
    }
}

shared_focus = {
    id = shared_doctrine_effort_2
    icon = GFX_goal_generic_army_doctrines
    prerequisite = { focus = shared_doctrine_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_doctrine_effort

    completion_reward = {
        army_experience = 5
        add_tech_bonus = {
            name = land_doc_bonus
            bonus = 0.5
            uses = 1
            category = land_doctrine
        }
    }
}

shared_focus = {
    id = shared_equipment_effort_3
    icon = GFX_goal_generic_army_artillery2
    prerequisite = { focus = shared_equipment_effort_2 }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_equipment_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = infantry_artillery_bonus
            ahead_reduction = 1
            uses = 1
            category = infantry_weapons
            category = artillery
        }
    }
}

shared_focus = {
    id = shared_armor_effort
    icon = GFX_goal_generic_army_tanks
    prerequisite = { focus = shared_mechanization_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_mechanization_effort

    completion_reward = {
        add_tech_bonus = {
            name = armor_bonus
            bonus = 0.5
            uses = 2
            category = armor
        }
    }
}

shared_focus = {
    id = shared_special_forces
    icon = GFX_goal_generic_special_forces
    prerequisite = { focus = shared_equipment_effort_3 }
    prerequisite = { focus = shared_doctrine_effort_2 }
    prerequisite = { focus = shared_armor_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_doctrine_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = special_forces_bonus
            bonus = 0.5
            uses = 1
            technology = paratroopers
            technology = paratroopers2
            technology = marines
            technology = marines2
            technology = tech_mountaineers
            technology = tech_mountaineers2
        }
    }
}

shared_focus = {
    id = shared_aviation_effort
    icon = GFX_goal_generic_build_airforce
    x = 4
    y = 0
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_army_effort
    prerequisite = { focus = shared_a_new_dawn }
    available = { date > 1936.1.1 }


    complete_tooltip = {
        air_experience = 25
        if = { limit = { has_country_flag = aviation_effort_AB }
            add_building_construction = {
                type = air_base
                level = 2
                instant_build = yes
            }
        }
        add_tech_bonus = {
            name = air_doc_bonus
            bonus = 0.5
            uses = 1
            category = air_doctrine
        }
    }

    completion_reward = {
        air_experience = 25

        if = {
            limit = {
                capital_scope = {
                    NOT = {
                        free_building_slots = {
                            building = air_base
                            size > 1
                        }
                    }
                }
            }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = air_base
                        size > 1
                    }
                }
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
                ROOT = { set_country_flag = aviation_effort_AB }
            }
        }
        if = {
            limit = {
                capital_scope = {
                    free_building_slots = {
                        building = air_base
                        size > 1
                    }
                }
            }
            capital_scope = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
                ROOT = { set_country_flag = aviation_effort_AB }
            }
        }
        add_tech_bonus = {
            name = air_doc_bonus
            bonus = 0.5
            uses = 1
            category = air_doctrine
        }
    }
}

shared_focus = {
    id = shared_fighter_focus
    icon = GFX_goal_generic_air_fighter
    prerequisite = { focus = shared_aviation_effort }
    mutually_exclusive = { focus = shared_bomber_focus }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_aviation_effort

    completion_reward = {
        add_tech_bonus = {
            name = fighter_bonus
            bonus = 0.5
            uses = 2
            technology = early_fighter
            technology = fighter1
            technology = fighter2
            technology = fighter3
            technology = heavy_fighter1
            technology = heavy_fighter2
            technology = heavy_fighter3
        }
    }
}

shared_focus = {
    id = shared_bomber_focus
    icon = GFX_goal_generic_air_bomber
    prerequisite = { focus = shared_aviation_effort }
    mutually_exclusive = { focus = shared_fighter_focus }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_aviation_effort

    completion_reward = {
        add_tech_bonus = {
            name = bomber_bonus
            bonus = 0.5
            uses = 2
            technology = strategic_bomber1
            technology = strategic_bomber2
            technology = strategic_bomber3
            category = tactical_bomber
        }
    }
}

shared_focus = {
    id = shared_aviation_effort_2
    icon = GFX_goal_generic_air_doctrine
    prerequisite = { focus = shared_bomber_focus focus = shared_fighter_focus }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_aviation_effort

    complete_tooltip = {
        air_experience = 25
        if = { limit = { has_country_flag = aviation_effort_2_AB }
            add_building_construction = {
                type = air_base
                level = 2
                instant_build = yes
            }
        }
        add_tech_bonus = {
            name =  air_doc_bonus
            bonus = 0.5
            uses = 1
            category = air_doctrine
        }
    }
    completion_reward = {
        air_experience = 25
        if = {
            limit = {
                capital_scope = {
                    OR = {
                        NOT = { is_controlled_by = ROOT }
                        NOT = {
                            free_building_slots = {
                                building = air_base
                                size > 1
                            }
                        }
                    }
                }
            }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = air_base
                        size > 1
                    }
                }
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
                ROOT = { set_country_flag = aviation_effort_2_AB }
            }
        }
        if = {
            limit = {
                capital_scope = {
                    is_controlled_by = ROOT
                    free_building_slots = {
                        building = air_base
                        size > 1
                    }
                }
            }
            capital_scope = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
                ROOT = { set_country_flag = aviation_effort_2_AB }
            }
        }
        add_tech_bonus = {
            name =  air_doc_bonus
            bonus = 0.5
            uses = 1
            category = air_doctrine
        }
    }
}

shared_focus = {
    id = shared_CAS_effort
    icon = GFX_goal_generic_CAS
    prerequisite = { focus = shared_aviation_effort_2 }
    prerequisite = { focus = shared_motorization_effort }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_aviation_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = CAS_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            category = cas_bomber
        }
    }
}

shared_focus = {
    id = shared_rocket_effort
    icon = GFX_focus_rocketry
    prerequisite = { focus = shared_aviation_effort_2 }
    prerequisite = { focus = shared_infrastructure_effort }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_aviation_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = jet_rocket_bonus
            ahead_reduction = 0.5
            uses = 2
            category = rocketry
            category = jet_technology
        }
    }

    ai_will_do = { factor = 1 	modifier = {
            factor = 0.25
            always = yes
        }
    }
}

shared_focus = {
    id = shared_NAV_effort
    icon = GFX_goal_generic_air_naval_bomber
    prerequisite = { focus = shared_aviation_effort_2 }
    prerequisite = { focus = shared_flexible_navy }
    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_bomber_focus

    completion_reward = {
        add_tech_bonus = {
            name = nav_bomber_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            category = naval_bomber
        }
    }
}

shared_focus = {
    id = shared_naval_effort
    icon = GFX_goal_generic_construct_naval_dockyard
    x = 8
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_a_new_dawn
    prerequisite = { focus = shared_a_new_dawn }


    available = {
        any_state = {
            is_coastal = yes
            is_controlled_by = ROOT
        }
    }

    complete_tooltip = {
        navy_experience = 25
        add_extra_state_shared_building_slots = 3
        add_building_construction = {
            type = dockyard
            level = 3
            instant_build = yes
        }
    }

    completion_reward = {
        navy_experience = 25
        if = {
            limit = {
                NOT = {
                    any_owned_state = {
                        dockyard > 0
                        free_building_slots = {
                            building = dockyard
                            size > 2
                            include_locked = yes
                        }
                    }
                }
                any_owned_state = {
                    is_coastal = yes
                }
            }
            random_owned_controlled_state = {
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 2
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
            set_country_flag = naval_effort_built
        }
        if = {
            limit = {
                NOT = { has_country_flag = naval_effort_built }
                any_owned_state = {
                    dockyard > 0
                    free_building_slots = {
                        building = dockyard
                        size > 2
                        include_locked = yes
                    }
                }
            }
            random_owned_controlled_state = {
                limit = {
                    dockyard > 0
                    free_building_slots = {
                        building = dockyard
                        size > 2
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
            set_country_flag = naval_effort_built
        }
        if = {
            limit = {
                NOT = { has_country_flag = naval_effort_built }
                NOT = {
                    any_owned_state = {
                        free_building_slots = {
                            building = dockyard
                            size > 2
                            include_locked = yes
                        }
                    }
                }
            }
            random_state = {
                limit = {
                    controller = { tag = ROOT }
                    free_building_slots = {
                        building = dockyard
                        size > 2
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
}

shared_focus = {
    id = shared_flexible_navy
    icon = GFX_goal_generic_build_navy
    prerequisite = { focus = shared_naval_effort }
    mutually_exclusive = { focus = shared_large_navy }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_naval_effort


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        add_tech_bonus = {
            name = sub_op_bonus
            bonus = 0.5
            uses = 2
            technology = convoy_interdiction_ti
            technology = unrestricted_submarine_warfare
            technology = wolfpacks
            technology = advanced_submarine_warfare
            technology = combined_operations_raiding
        }
    }
}

shared_focus = {
    id = shared_large_navy
    icon = GFX_goal_generic_navy_doctrines_tactics
    prerequisite = { focus = shared_naval_effort }
    mutually_exclusive = { focus = shared_flexible_navy }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_naval_effort


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        add_tech_bonus = {
            name = fleet_in_being_bonus
            bonus = 0.5
            uses = 2
            category = fleet_in_being1_tree
        }
    }
}

shared_focus = {
    id = shared_submarine_effort
    icon = GFX_goal_generic_navy_submarine
    prerequisite = { focus = shared_flexible_navy focus = shared_large_navy }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_flexible_navy


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        add_tech_bonus = {
            name = ss_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            technology = early_submarine
            technology = basic_submarine
            technology = improved_submarine
            technology = advanced_submarine
        }
    }
}

shared_focus = {
    id = shared_cruiser_effort
    icon = GFX_goal_generic_navy_cruiser
    prerequisite = { focus = shared_large_navy focus = shared_flexible_navy }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_large_navy


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        add_tech_bonus = {
            name = cr_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            technology = improved_light_cruiser
            technology = advanced_light_cruiser
            technology = improved_heavy_cruiser
            technology = advanced_heavy_cruiser
        }
    }
}

shared_focus = {
    id = shared_destroyer_effort
    icon = GFX_goal_generic_wolf_pack
    prerequisite = { focus = shared_submarine_effort }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_submarine_effort


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        add_tech_bonus = {
            name = dd_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            technology = early_destroyer
            technology = basic_destroyer
            technology = improved_destroyer
            technology = advanced_destroyer
        }
    }
}

shared_focus = {
    id = shared_capital_ships_effort
    icon = GFX_goal_generic_navy_battleship
    prerequisite = { focus = shared_cruiser_effort }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_cruiser_effort


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            all_owned_state = {
                OR = {
                    is_coastal = no
                    dockyard < 1
                }
            }
        }
    }

    completion_reward = {
        navy_experience = 25
        add_tech_bonus = {
            name = capital_ships_bonus
            bonus = 0.5
            ahead_reduction = 1
            uses = 1
            technology = basic_battlecruiser
            technology = basic_battleship
            technology = improved_battleship
            technology = advanced_battleship
            technology = heavy_battleship
            technology = heavy_battleship2
            technology = early_carrier
            technology = basic_carrier
            technology = improved_carrier
            technology = advanced_carrier
        }
    }
}

shared_focus = {
    id = shared_industrial_effort
    icon = GFX_goal_generic_production
    x = 12
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_a_new_dawn
    prerequisite = { focus = shared_a_new_dawn }
    available = { date > 1936.1.1 }

    completion_reward = {
        add_tech_bonus = {
            name = industrial_bonus
            bonus = 0.5
            uses = 1
            category = industry
        }
    }

    ai_will_do = { factor = 3 	modifier = {
            factor = 0
            date < 1939.1.1
            OR = {
                # we dont want chinese minors to go crazy on slots early since they get eaten
                tag = GXC
                tag = YUN
                tag = SHX
                tag = XSM
                tag = BEL
                tag = LUX
                tag = HOL
                tag = DEN

                # we also dont want tiny nations to go crazy with slots right away
                num_of_controlled_states < 2
            }
        }
    }
}

shared_focus = {
    id = shared_construction_effort
    icon = GFX_goal_generic_construct_civ_factory
    prerequisite = { focus = shared_industrial_effort }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_industrial_effort

    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = construction_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = industrial_complex
                    size < 1
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 1
        add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = industrial_complex
                    size > 0
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = industrial_complex
                                    size > 0
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_production_effort
    icon = GFX_goal_generic_construct_mil_factory
    prerequisite = { focus = shared_industrial_effort }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_industrial_effort


    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = production_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = arms_factory
                    size < 1
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 1
        add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = arms_factory
                    size > 0
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = arms_factory
                                    size > 0
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = arms_factory
                level = 1
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_construction_effort_2
    icon = GFX_goal_generic_construct_civ_factory
    prerequisite = { focus = shared_construction_effort }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_construction_effort


    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = construction_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = industrial_complex
                    size < 1
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 1
        add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = industrial_complex
                    size > 0
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = industrial_complex
                                    size > 0
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_production_effort_2
    icon = GFX_goal_generic_construct_mil_factory
    prerequisite = { focus = shared_production_effort }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_production_effort


    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = production_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = arms_factory
                    size < 1
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 1
        add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = arms_factory
                    size > 0
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = arms_factory
                                    size > 0
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = arms_factory
                level = 1
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_infrastructure_effort
    icon = GFX_goal_generic_construct_infrastructure
    prerequisite = { focus = shared_construction_effort_2 }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_construction_effort_2

    bypass = {
        custom_trigger_tooltip = {
            tooltip = infrastructure_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = infrastructure
                    size < 1
                }
            }
        }
    }

    complete_tooltip = {
        add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
        }
        add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = infrastructure
                    size > 0
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = infrastructure
                                    size > 0
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_building_construction = {
                type = infrastructure
                level = 1
                instant_build = yes
            }
        }
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = infrastructure
                    size > 1
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = infrastructure
                                    size > 1
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_building_construction = {
                type = infrastructure
                level = 2
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_production_effort_3
    icon = GFX_goal_generic_construct_mil_factory
    prerequisite = { focus = shared_production_effort_2 }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_production_effort_2


    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = production_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = arms_factory
                    size < 1
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 1
        add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = arms_factory
                    size > 0
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = arms_factory
                                    size > 0
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = arms_factory
                level = 1
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_infrastructure_effort_2
    icon = GFX_goal_generic_construct_infrastructure
    prerequisite = { focus = shared_infrastructure_effort }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_infrastructure_effort

    bypass = {
        custom_trigger_tooltip = {
            tooltip = infrastructure_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = infrastructure
                    size < 1
                }
            }
        }
    }

    complete_tooltip = {
        add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
        }
        add_building_construction = {
            type = infrastructure
            level = 1
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = infrastructure
                    size > 0
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = infrastructure
                                    size > 0
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_building_construction = {
                type = infrastructure
                level = 1
                instant_build = yes
            }
        }
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = infrastructure
                    size > 1
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = infrastructure
                                    size > 1
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_building_construction = {
                type = infrastructure
                level = 2
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_construction_effort_3
    icon = GFX_goal_generic_construct_civ_factory
    prerequisite = { focus = shared_infrastructure_effort }
    x = 2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_infrastructure_effort


    ai_will_do = { factor = 2 }

    bypass = {
        custom_trigger_tooltip = {
            tooltip = construction_effort_tt
            all_owned_state = {
                free_building_slots = {
                    building = industrial_complex
                    size < 2
                    include_locked = yes
                }
            }
        }
    }

    complete_tooltip = {
        add_extra_state_shared_building_slots = 2
        add_building_construction = {
            type = industrial_complex
            level = 2
            instant_build = yes
        }
    }

    completion_reward = {
        random_owned_controlled_state = {
            limit = {
                free_building_slots = {
                    building = industrial_complex
                    size > 1
                    include_locked = yes
                }
                OR = {
                    is_in_home_area = yes
                    NOT = {
                        owner = {
                            any_owned_state = {
                                free_building_slots = {
                                    building = industrial_complex
                                    size > 1
                                    include_locked = yes
                                }
                                is_in_home_area = yes
                            }
                        }
                    }
                }
            }
            add_extra_state_shared_building_slots = 2
            add_building_construction = {
                type = industrial_complex
                level = 2
                instant_build = yes
            }
        }
    }
}

shared_focus = {
    id = shared_nuclear_effort
    icon = GFX_focus_wonderweapons
    prerequisite = { focus = shared_infrastructure_effort_2 }
    x = -2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_infrastructure_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = nuclear_bonus
            ahead_reduction = 0.5
            category = nuclear
        }
    }

    ai_will_do = { factor = 1 	modifier = {
            factor = 0.25
            always = yes
        }
    }
}

shared_focus = {
    id = shared_extra_tech_slot
    icon = GFX_focus_research
    prerequisite = { focus = shared_infrastructure_effort_2 }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_infrastructure_effort_2

    completion_reward = {
        add_research_slot = 1
    }
}

shared_focus = {
    id = shared_extra_tech_slot_2
    icon = GFX_focus_research
    prerequisite = { focus = shared_extra_tech_slot }
    available = {
        num_of_factories > 50
    }
    cancel_if_invalid = no
    continue_if_invalid = yes
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_extra_tech_slot

    completion_reward = {
        add_research_slot = 1
    }
}

shared_focus = {
    id = shared_secret_weapons
    icon = GFX_goal_generic_secret_weapon
    prerequisite = { focus = shared_infrastructure_effort_2 }
    x = 2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_infrastructure_effort_2

    completion_reward = {
        add_tech_bonus = {
            name = secret_bonus
            bonus = 0.5
            uses = 4
            category = electronics
            category = nuclear
            category = rocketry
        }
    }

    ai_will_do = { factor = 1 	modifier = {
            factor = 0.25
            always = yes
        }
    }
}

shared_focus = {
    id = shared_political_effort
    icon = GFX_goal_generic_demand_territory
    x = 18
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_a_new_dawn

    prerequisite = { focus = shared_a_new_dawn }
    available = { date > 1936.1.1 }

    completion_reward = {
        add_political_power = 120
    }
}

shared_focus = {
    id = shared_collectivist_ethos
    icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact
    prerequisite = { focus = shared_political_effort }
    mutually_exclusive = { focus = shared_liberty_ethos}
    available = {
        OR = {
            has_government_nationalist = yes
            has_government = leninist
            has_government = stalinist
            has_government = anarchist
            has_government = paternal_autocrat
        }
    }
    x = -1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_political_effort


    ai_will_do = {
        factor = 5
        modifier = {
            factor = 0
            OR = {
                AND = {
                    is_historical_focus_on = yes
                    has_government = paternal_autocrat
                }
                has_idea = neutrality_idea
            }
        }
    }

    completion_reward = {
        add_ideas = collectivist_ethos_focus
    }
}

shared_focus = {
    id = shared_nationalism_focus
    icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact
    prerequisite = { focus = shared_collectivist_ethos }
    mutually_exclusive = { focus = shared_internationalism_focus }
    available = {
        OR = {
            has_government_nationalist = yes
            has_government = paternal_autocrat
        }
    }
    x = -2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_collectivist_ethos


    ai_will_do = {
        factor = 5
        modifier = {
            factor = 2
            any_neighbor_country = {
                is_major = yes
                has_government_nationalist = yes
            }
        }
        modifier = {
            factor = 0
            AND = {
                is_historical_focus_on = yes
                NOT = { has_government_nationalist = yes }
            }
        }
    }

    completion_reward = {
        add_ideas = nationalism
    }
}

shared_focus = {
    id = shared_internationalism_focus
    icon = GFX_goal_support_communism #icon = GFX_goal_tripartite_pact
    prerequisite = { focus = shared_collectivist_ethos }
    mutually_exclusive = { focus = shared_nationalism_focus }
    available = {
        if = {
            limit = { original_tag = CHI }
            OR = {
                has_government = leninist
                has_government = stalinist
                has_government = anarchist
            }
            else = {
                OR = {
                    has_government = leninist
                    has_government = stalinist
                    has_government = anarchist
                    has_government = paternal_autocrat
                }
            }
        }
    }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_collectivist_ethos


    ai_will_do = {
        factor = 5
        modifier = {
            factor = 2
            any_neighbor_country = {
                is_major = yes
                OR = {
                    has_government = leninist
                    has_government = stalinist
                    has_government = anarchist
                }
            }
        }
        modifier = {
            factor = 0
            AND = {
                is_historical_focus_on = yes
                NOT = {
                    has_government = leninist
                    has_government = stalinist
                    has_government = anarchist
                }
            }
        }
    }

    completion_reward = {
        add_ideas = internationalism
    }
}

shared_focus = {
    id = shared_liberty_ethos
    icon = GFX_goal_support_democracy
    prerequisite = { focus = shared_political_effort }
    mutually_exclusive = { focus = shared_collectivist_ethos }
    available = {
        OR = {
            has_government = market_liberal
            has_government = social_conservative
            has_government = social_liberal
            has_government = social_democrat
            has_government = paternal_autocrat
        }
    }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_political_effort


    ai_will_do = { factor = 95 	modifier = {
            factor = 0.1
            any_neighbor_country = {
                is_major = yes
                OR = {
                    has_government = leninist
                    has_government = stalinist
                    has_government = anarchist
                    has_government_nationalist = yes
                }
            }
            NOT = {
                any_neighbor_country = {
                    is_major = yes
                    has_government = market_liberal
                    has_government = social_conservative
                    has_government = social_liberal
                    has_government = social_democrat
                }
            }
        }
    }

    completion_reward = {
        add_ideas = liberty_ethos_focus
    }
}

shared_focus = {
    id = shared_militarism
    icon = GFX_goal_generic_political_pressure
    prerequisite = { focus = shared_nationalism_focus }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_nationalism_focus

    completion_reward = {
        if = {
            limit = { has_idea = neutrality_idea }
            remove_ideas = neutrality_idea
        }
        add_ideas = militarism_focus
        army_experience = 20
        set_rule = { can_send_volunteers = yes }
    }
}

shared_focus = {
    id = shared_political_correctness
    icon = GFX_goal_generic_dangerous_deal
    prerequisite = { focus = shared_internationalism_focus }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_internationalism_focus

    completion_reward = {
        if = {
            limit = { has_idea = neutrality_idea }
            remove_ideas = neutrality_idea
        }
        add_political_power = 200
        add_ideas = idea_political_correctness
    }
}

shared_focus = {
    id = shared_neutrality_focus
    icon = GFX_goal_generic_neutrality_focus
    prerequisite = { focus = shared_liberty_ethos }
    mutually_exclusive = { focus = shared_interventionism_focus }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_liberty_ethos

    completion_reward = {
        if = {
            limit = { NOT = { has_idea = neutrality_idea } }
            add_ideas = neutrality_idea
        }
        add_political_power = 150
    }
}

shared_focus = {
    id = shared_interventionism_focus
    icon = GFX_goal_generic_political_pressure
    prerequisite = { focus = shared_liberty_ethos }
    mutually_exclusive = { focus = shared_neutrality_focus }
    x = 2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_liberty_ethos


    ai_will_do = { factor = 1 	modifier = {
            factor = 0
            has_idea = neutrality_idea
        }
    }

    completion_reward = {
        if = {
            limit = { has_idea = neutrality_idea }
            remove_ideas = neutrality_idea
        }
        set_rule = { can_send_volunteers = yes }
        add_political_power = 150
    }
}

shared_focus = {
    id = shared_military_youth
    icon = GFX_goal_generic_more_territorial_claims
    prerequisite = { focus = shared_militarism }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_militarism

    completion_reward = {
        add_ideas = military_youth_focus
        if = {
            limit = { has_government_nationalist = yes }
            add_popularity = {
                ideology = fascism
                popularity = 0.2
            }
        }
        if = {
            limit = {
                OR = {
                    has_government = leninist
                    has_government = stalinist
                    has_government = anarchist
                }
            }
            add_popularity = {
                ideology = stalinist
                popularity = 0.2
            }
        }
    }
}

shared_focus = {
    id = shared_deterrence
    icon = GFX_goal_generic_defence
    prerequisite = { focus = shared_neutrality_focus }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_neutrality_focus

    completion_reward = {
        add_ideas = deterrence
    }
}

shared_focus = {
    id = shared_volunteer_corps
    icon = GFX_goal_generic_allies_build_infantry
    prerequisite = { focus = shared_interventionism_focus }
    x = 0
    relative_position_id = shared_political_effort
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_interventionism_focus

    completion_reward = {
        add_ideas = volunteer_corps_focus
    }
}

shared_focus = {
    id = shared_paramilitarism
    icon = GFX_goal_generic_military_sphere
    prerequisite = { focus = shared_military_youth }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_military_youth

    completion_reward = {
        add_ideas = paramilitarism_focus
    }
}

shared_focus = {
    id = shared_indoctrination_focus
    icon = GFX_goal_generic_propaganda
    prerequisite = { focus = shared_political_correctness }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_political_correctness

    completion_reward = {
        add_ideas = indoctrination_focus
        add_political_power = 150
    }
}

shared_focus = {
    id = shared_foreign_expeditions
    icon = GFX_goal_generic_more_territorial_claims
    prerequisite = { focus = shared_volunteer_corps }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_volunteer_corps

    completion_reward = {
        add_ideas = foreign_expeditions_focus
    }
}

shared_focus = {
    id = shared_why_we_fight
    icon = GFX_goal_generic_propaganda
    prerequisite = { focus = shared_foreign_expeditions focus = shared_deterrence }
    available = {
        OR = {
            threat > 0.75
            has_defensive_war = yes
        }
    }

    continue_if_invalid = yes
    relative_position_id = shared_deterrence

    x = 0
    y = 2
    cost = 10

    available_if_capitulated = yes

    completion_reward = {
        add_ideas = why_we_fight_focus
        custom_effect_tooltip = why_we_fight_effect
        hidden_effect = {
            if = {
                limit = { NOT = { has_idea = neutrality_idea } }
                set_rule = { can_create_factions = yes }
            }
        }
    }
}

shared_focus = {
    id = shared_political_commissars
    icon = GFX_goal_generic_forceful_treaty
    prerequisite = { focus = shared_indoctrination_focus }
    available = {
    }
    x = 0
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_indoctrination_focus

    completion_reward = {
        add_ideas = political_commissars_focus
        if = {
            limit = { has_government_nationalist = yes }
            add_popularity = {
                ideology = fascism
                popularity = 0.2
            }
        }
        if = {
            limit = { has_government_communist = yes }
            add_popularity = {
                ideology = stalinist
                popularity = 0.2
            }
        }
        add_political_power = 200
    }
}

shared_focus = {
    id = shared_ideological_fanaticism
    icon = GFX_goal_generic_demand_territory
    prerequisite = { focus = shared_paramilitarism focus = shared_political_commissars }
    x = 1
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_paramilitarism

    completion_reward = {
        add_ideas = ideological_fanaticism_focus
        set_rule = {
            can_create_factions = yes
        }
        hidden_effect = {
            set_rule = { can_use_kamikaze_pilots = yes }
        }
        custom_effect_tooltip = kamikaze_focus_tooltip
    }
}

shared_focus = {
    id = shared_technology_sharing
    icon = GFX_goal_generic_scientific_exchange
    prerequisite = { focus = shared_ideological_fanaticism focus = shared_why_we_fight }
    available = {
        has_war = yes
        is_in_faction = yes
        OR = {
            num_of_factories > 50
            any_other_country = {
                is_in_faction_with = ROOT
                num_of_factories > 50
            }
        }
    }
    x = 2
    y = 1
    cost = 10

    available_if_capitulated = yes
    relative_position_id = shared_ideological_fanaticism

    completion_reward = {
        if = {
            limit = {
                original_research_slots < 3
            }
            add_research_slot = 1
        }
        if = {
            limit = {
                original_research_slots > 2
            }
            add_tech_bonus = {
                name = electronics_bonus
                bonus = 0.5
                uses = 1
                category = electronics
            }
            add_tech_bonus = {
                name = industrial_bonus
                bonus = 0.5
                uses = 1
                category = industry
            }
            add_tech_bonus = {
                name = infantry_weapons_bonus
                bonus = 0.5
                uses = 1
                category = infantry_weapons
                category = artillery
            }
        }
    }
}
